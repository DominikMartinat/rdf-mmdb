@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix sio: <http://semanticscience.org/resource/>.
@prefix mmdbint: <http://rdf.molmedb.upol.cz/interaction/>.
@prefix mmdbsub: <http://rdf.molmedb.upol.cz/substance/>.
@prefix mmdbref: <http://rdf.molmedb.upol.cz/reference/>.
@prefix obo: <http://purl.obolibrary.org/obo/>.
@prefix cito: <http://purl.org/spar/cito/>.
@prefix bao: <http://www.bioassayontology.org/bao#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix edam: <http://edamontology.org/>.
@prefix repr: <https://w3id.org/reproduceme#>.
@prefix dwc: <http://rs.tdwg.org/dwc/terms/>.
@prefix dc: <http://purl.org/dc/elements/1.1/>.
@prefix dcterms: <http://purl.org/dc/terms/>.
@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix temp: <http://rdf.molmedb.upol.cz/vocabulary#>. #IRIS yet missing


<#TriplesMap1>
  rr:logicalTable [ rr:sqlQuerry """
    SELECT *,
      (CASE WHEN LENGTH(id_substance)<5 THEN LPAD(id_substance,5,0) ELSE id_substance END) padded_id_substance FROM interactions
  """];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/{id}";
    rr:class bao:BAO_0000015;
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012;
    rr:objectMap [ rr:template "http://identifiers.org/molmedb/MM{padded_id_substance}" ]
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/membrane_{id_membrane}"  ]
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000209;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_{id}"  ]
  ];
# probably not needed
#    rr:predicateObjectMap [
#    rr:predicate bao:BAO_0000205;
#    rr:objectMap [ rr:constant bao:BAO_0000100 ]
#  ];
    rr:predicateObjectMap [
    rr:predicate cito:citesAsDataSource;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/reference/{id_reference}"  ]
  ].

<#TriplesMap2>
  rr:logicalTable [ rr:sqlQuerry """
    SELECT *,
      (CASE WHEN LENGTH(id_substance)<5 THEN LPAD(id_substance,5,0) ELSE id_substance END) padded_id_substance,
      (CASE WHEN LogK IS NULL THEN NULL ELSE id END) LogK_id,
      (CASE WHEN LogPerm IS NULL THEN NULL ELSE id END) LogPerm_id,
      (CASE WHEN temperature IS NULL THEN NULL ELSE id END) temperature_id,
      (CASE WHEN charge IS NULL THEN NULL ELSE id END) charge_id FROM interaction
  """];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_{id}";
    rr:class bao:BAO_0000040;
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000212;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/method_{id_method}" ]
  ];  
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/endpoint_logk_{LogK_id}" ]
  ]; 
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/endpoint_logperm_{LogPerm_id}" ]
  ]; 
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012;
    rr:objectMap [ rr:template "http://identifiers.org/molmedb/MM{padded_id_substance}" ]
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/membrane_{id_membrane}"  ]
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000426;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/{id}" ]
  ]; 
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_temperature_{temperature_id}" ]
  ]; 
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_mol_charge_{charge_id}" ]
  ]; 
    rr:predicateObjectMap [
    rr:predicate rdfs:comment;
    rr:objectMap [ rr:column "comment" ]
  ].

<#TriplesMap3>
  rr:logicalTable [ rr:tableName "membranes" ];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/membrane_{id}";
    rr:class temp:membrane_model;
  ];
    rr:predicateObjectMap [
    rr:predicate rdfs:label;
    rr:objectMap [ rr:column "name" ]
  ];
    rr:predicateObjectMap [
    rr:predicate dc:description;
    rr:objectMap [ rr:column "description"; rr:datatype rdf:HTML ]
  ];
    rr:predicateObjectMap [
    rr:predicate dcterms:bibliographicCitation;
    rr:objectMap [ rr:column "references" ]
  ].
# has role target - might or might not be needed
#    rr:predicateObjectMap [
#    rr:predicate bao:BAO_0003102;
#    rr:objectMap [ rr:constant bao:BAO_0003064 ]
#  ].

<#TriplesMap4>
  rr:logicalTable [ rr:tableName "methods" ];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/method_{id}";
    rr:class bao:BAO_0002753;
  ];
    rr:predicateObjectMap [
    rr:predicate rdfs:label;
    rr:objectMap [ rr:column "name" ]
  ];
    rr:predicateObjectMap [
    rr:predicate dc:description;
    rr:objectMap [ rr:column "description"; rr:datatype rdf:HTML ]
  ];
    rr:predicateObjectMap [
    rr:predicate dcterms:bibliographicCitation;
    rr:objectMap [ rr:column "references" ]
  ].

<#TriplesMap5>
  rr:logicalTable [ rr:tableName "interaction" ];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_temperature_{id}";
    rr:class obo:PATO_0000146;
  ];
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300;
    rr:objectMap [ rr:column "temperature" ]
  ];
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221;
    rr:objectMap [ rr:constant obo:UO_0000027 ]
  ].

<#TriplesMap6>
  rr:logicalTable [ rr:tableName "interaction" ];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_mol_charge_{id}";
    rr:class edam:data_0845;
  ];
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300;
    rr:objectMap [ rr:column "charge" ]
  ].

<#TriplesMap7>
  rr:logicalTable [ rr:tableName "interaction" ];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/endpoint_logk_{id}";
    rr:class temp:logk;
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0095007;
    rr:objectMap [ rr:column "LogK" ]
  ];
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221;
    rr:objectMap [ rr:constant obo:NCIT_C70455 ]
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_{id}" ]
  ].

<TriplesMap8>
  rr:logicalTable [ rr:tableName "interaction" ];
  rr:subjectMap [
    rr:template "http://rdf.molmedb.upol.cz/interaction/endpoint_logperm_{id}";
    rr:class bao:BAO_0002808;
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0095007;
    rr:objectMap [ rr:column "LogPerm" ]
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0002858;
    rr:objectMap [ rr:constant bao:BAO_0002172 ]
  ];
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221;
    rr:objectMap [ rr:constant obo:NCIT_C102406 ]
  ];
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559;
    rr:objectMap [ rr:template "http://rdf.molmedb.upol.cz/interaction/measure_group_{id}" ]
  ].

####### ad hoc membrane to component map
####### BAO_0090004 has part

#1 DMPC
<http://rdf.molmedb.upol.cz/interaction/membrane_1> bao:BAO_0090004 obo:CHEBI_45240.

#2 SC mix -  mixture of free fatty acid (FFA 24:0), ceramide NS and cholesterol (in 1:1:1 ratio)
<http://rdf.molmedb.upol.cz/interaction/membrane_2> bao:BAO_0090004 obo:CHEBI_28866, obo:CHEBI_16113. #ceramide NS missing

#3 DOPC
<http://rdf.molmedb.upol.cz/interaction/membrane_3> bao:BAO_0090004 obo:CHEBI_74669.

#4 CERNS - ceramide ns?

#13 EggPC - L-α-phosphatidylcholine (Egg, Chicken) or L-α-Lecithin is a mixture of phosphatidylcholines from egg. The distribution of
#fatty acids shows that the closest single lipid is POPC
<http://rdf.molmedb.upol.cz/interaction/membrane_13> bao:BAO_0090004 obo:CHEBI_73001. #there is more than POPC

#14 DPPC
<http://rdf.molmedb.upol.cz/interaction/membrane_14> bao:BAO_0090004 obo:CHEBI_72999.

#15 POPC
<http://rdf.molmedb.upol.cz/interaction/membrane_15> bao:BAO_0090004 obo:CHEBI_73001.

#18 GENER -  method does not define specifically what membrane is used. 
#19 BBB - Blood Brain Barrier membrane

#20 SC_ML - Stratum corneum multilayer. major groups of lipids, namely free fatty acids (FFA), sterols (cholesterol and its derivatives) and ceramides (CER).
<http://rdf.molmedb.upol.cz/interaction/membrane_20> bao:BAO_0090004 obo:CHEBI_16113. #there is way more than choleterol

#21 CACO
#23 GIT-0

#24 PAMPA-skin  Its composition is 70% silicone and 30% isopropyl myristate (IPM).
<http://rdf.molmedb.upol.cz/interaction/membrane_24> bao:BAO_0090004 obo:CHEBI_90027. #and silicone

#25 PL-A mixture of phospholipids and alkanes

#26 CHCl3
<http://rdf.molmedb.upol.cz/interaction/membrane_26> bao:BAO_0090004 obo:CHEBI_35255.

#27 DOPC_DOPE_CHOL
<http://rdf.molmedb.upol.cz/interaction/membrane_27> bao:BAO_0090004 obo:CHEBI_74669, obo:CHEBI_74986, obo:CHEBI_16113.

#28 SM_CHOL sphingomyelin : cholesterol in a 2:1 
<http://rdf.molmedb.upol.cz/interaction/membrane_28> bao:BAO_0090004 obo:CHEBI_16113. #and sphingomyelin

#29 Toluene
<http://rdf.molmedb.upol.cz/interaction/membrane_29> bao:BAO_0090004 obo:17578.

#31 SC -Stratum Corneum. corneocytes are embedded in a lipid matrix composed of ceramides (CER), cholesterol (Chol), and free fatty acids (FFA).
<http://rdf.molmedb.upol.cz/interaction/membrane_31> bao:BAO_0090004 obo:CHEBI_16113. #and more than cholesterol

#32 EYE-Cornea
#33 EYE-Sclera
#34 EYE-Conjunctiva
#35 EYE-Stroma
#36 EYE-Endothelium

#37 n-Hexadecane
<http://rdf.molmedb.upol.cz/interaction/membrane_37> bao:BAO_0090004 obo:CHEBI_45296.

#38 LEC -Lecithin in n-dodecane
<http://rdf.molmedb.upol.cz/interaction/membrane_38> bao:BAO_0090004 obo:CHEBI_28817. #and lecithin

#39 BML - Bio (intestinal) mimetic lipid.  L-α-phosphatidylcholine (PC), L-α-phosphatidylethanolamine (PE),  L-α-phosphatidylserine (PS), #L-α-phosphatidylinositol (PI), cholesterol (CHO) and 1,7-octadiene.
<http://rdf.molmedb.upol.cz/interaction/membrane_39> bao:BAO_0090004 obo:CHEBI_16113. #and more than cholesterol. 
#1,7-octadiene missing in CHEBI

#40 Jejunum
#41 Sublingual mucous membrane
#42 Caco2/MDCK

#43 POPC:POPE (1:1)
<http://rdf.molmedb.upol.cz/interaction/membrane_43> bao:BAO_0090004 obo:CHEBI_34083, obo:CHEBI_73001.

#44 POPE 
<http://rdf.molmedb.upol.cz/interaction/membrane_44> bao:BAO_0090004 obo:CHEBI_34083.

#46 MDCK
#47 CALU3

#48 HBMEC - Human Brain Microvascular Endothelial Cells.Major lipid components of HBMEC are POPC, SLPC, SAPC, SOPE, SAPE, SAPS, SAPI, OSM #and cholesterol. 
<http://rdf.molmedb.upol.cz/interaction/membrane_48> bao:BAO_0090004 obo:CHEBI_73001, obo:CHEBI_16113. #more than popc and cholesterol

#49 DLPC
<http://rdf.molmedb.upol.cz/interaction/membrane_49> bao:BAO_0090004 obo:CHEBI_65211.

#51 DOPS
<http://rdf.molmedb.upol.cz/interaction/membrane_51> bao:BAO_0090004 obo:CHEBI_60568.

#52 DLPE #missing in CHEBI
#53 DPhPC missing in CHEBI

#54 1-octanol
<http://rdf.molmedb.upol.cz/interaction/membrane_54> bao:BAO_0090004 obo:CHEBI_16188.
