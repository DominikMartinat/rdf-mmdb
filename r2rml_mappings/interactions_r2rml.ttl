@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sio: <http://semanticscience.org/resource/> .
@prefix obo: <http://purl.obolibrary.org/obo/> .
@prefix bao: <http://www.bioassayontology.org/bao#> .
@prefix repr: <https://w3id.org/reproduceme#> .
@prefix dc: <http://purl.org/dc/elements/1.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix mmdbvoc: <https://rdf.molmedb.upol.cz/vocabulary#> .
@prefix efo: <http://www.ebi.ac.uk/efo/> .

################################################
## interaction central node
################################################
<Interactions#TriplesMap1>
  rr:logicalTable [ rr:sqlQuery """
    SELECT inte.id, s.identifier, inte.publication_id, ds.membrane_id, mhp.publication_id AS secondary_publication
      FROM interactions_passive AS inte, structures AS s, datasets AS ds, model_has_publications AS mhp
      WHERE inte.structure_id = s.id AND inte.dataset_id = ds.id AND inte.dataset_id = mhp.model_id
      AND mhp.model_type = 'App\\Models\\Dataset'
  """] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/int{id}" ;
    rr:class bao:BAO_0002182
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://identifiers.org/molmedb/{identifier}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/membrane{membrane_id}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000209 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_int{id}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate dcterms:source ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/reference/ref{secondary_publication}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate dcterms:references ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/reference/ref{publication_id}"  ]
  ] .

  #fluorescence properties are stored separately
  #treated as special type of interaction 'fluo' instead of 'int'
  #only 89 entries exist currently

  <Interactions#TriplesMap2>
  rr:logicalTable [ rr:sqlQuery """
    SELECT inte.id, s.identifier, inte.publication_id, ds.membrane_id, mhp.publication_id AS secondary_publication
      FROM fluorescent_properties AS inte, structures AS s, datasets AS ds, model_has_publications AS mhp
      WHERE inte.structure_id = s.id AND inte.dataset_id = ds.id AND inte.dataset_id = mhp.model_id AND mhp.model_type = 'App\\Models\\Dataset'
  """] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/fluo{id}" ;
    rr:class bao:BAO_0002182
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://identifiers.org/molmedb/{identifier}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/membrane{membrane_id}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000209 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_fluo{id}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate dcterms:source ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/reference/ref{secondary_publication}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate dcterms:references ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/reference/ref{publication_id}"  ]
  ] .

################################################
## interaction measure group
################################################
<Interactions#TriplesMap3>
  rr:logicalTable [ rr:sqlQuery """
    SELECT inte.id, s.identifier, ds.membrane_id, ds.method_id, inte.note,
      (CASE WHEN inte.logk IS NULL THEN NULL ELSE inte.id END) LogK_id,
      (CASE WHEN inte.logperm IS NULL THEN NULL ELSE inte.id END) LogPerm_id,
      (CASE WHEN inte.x_min IS NULL THEN NULL ELSE inte.id END) Position_id,
      (CASE WHEN inte.gpen IS NULL THEN NULL ELSE inte.id END) Penetration_id,
      (CASE WHEN inte.gwat IS NULL THEN NULL ELSE inte.id END) Water_id,
      (CASE WHEN inte.temperature IS NULL THEN NULL ELSE inte.id END) temperature_id,
      (CASE WHEN inte.charge IS NULL THEN NULL ELSE inte.id END) charge_id,
      (CASE WHEN inte.ph IS NULL THEN NULL ELSE inte.id END) ph_id
      FROM interactions_passive AS inte, structures AS s, datasets AS ds
      WHERE inte.structure_id = s.id AND inte.dataset_id = ds.id
  """] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_int{id}" ;
    rr:class bao:BAO_0000040
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000212 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/method{method_id}" ]
  ] ;  
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_LogK_int{LogK_id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_LogPerm_int{LogPerm_id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_position_int{Position_id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_penetration_int{Penetration_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_water_int{Water_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://identifiers.org/molmedb/{identifier}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/membrane{membrane_id}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000426 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/int{id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_temperature_int{temperature_id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_mol_charge_int{charge_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_pH_int{ph_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdfs:comment ;
    rr:objectMap [ rr:column "note" ]
  ] .

<Interactions#TriplesMap4>
  rr:logicalTable [ rr:sqlQuery """
    SELECT inte.id, s.identifier, ds.membrane_id, ds.method_id, inte.note,
      (CASE WHEN inte.theta IS NULL THEN NULL ELSE inte.id END) theta_id,
      (CASE WHEN inte.abs_wl IS NULL THEN NULL ELSE inte.id END) abs_wl_id,
      (CASE WHEN inte.fluo_wl IS NULL THEN NULL ELSE inte.id END) fluo_wl_id,
      (CASE WHEN inte.QY IS NULL THEN NULL ELSE inte.id END) QY_id,
      (CASE WHEN inte.lt IS NULL THEN NULL ELSE inte.id END) lt_id,
      (CASE WHEN inte.temperature IS NULL THEN NULL ELSE inte.id END) temperature_id,
      (CASE WHEN inte.charge IS NULL THEN NULL ELSE inte.id END) charge_id,
      (CASE WHEN inte.ph IS NULL THEN NULL ELSE inte.id END) ph_id
      FROM fluorescent_properties  AS inte, structures AS s, datasets AS ds
      WHERE inte.structure_id = s.id AND inte.dataset_id = ds.id
  """] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_fluo{id}" ;
    rr:class bao:BAO_0000040
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000212 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/method{method_id}" ]
  ] ;  
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_theta_fluo{theta_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_abs_wl_fluo{abs_wl_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_fluo_wl_fluo{fluo_wl_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_qy_fluo{QY_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000208 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_lt_fluo{lt_id}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://identifiers.org/molmedb/{identifier}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0090012 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/membrane{membrane_id}"  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000426 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/fluo{id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_temperature_fluo{temperature_id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_mol_charge_fluo{charge_id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate repr:hasExperimentalCondition ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_pH_fluo{ph_id}" ]
  ] ; 
    rr:predicateObjectMap [
    rr:predicate rdfs:comment ;
    rr:objectMap [ rr:column "note" ]
  ] .

################################################
## membrane
################################################
<Interactions#TriplesMap5>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, name,
      NULLIF(abbreviation, name) AS abbrev,
      NULLIF(description, '') AS description
      FROM membranes
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/membrane{id}" ;
    rr:class mmdbvoc:MembraneModel
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdfs:label ;
    rr:objectMap [ rr:column "name" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdfs:label ;
    rr:objectMap [ rr:column "abbrev" ]
  ] .
  # removed temporarily due to unfinished description system
  #   rr:predicateObjectMap [
  #   rr:predicate dc:description ;
  #   rr:objectMap [ rr:column "description" ]
  # ] .

<Interactions#TriplesMap6>
  rr:logicalTable [ rr:sqlQuery """
    SELECT c.id, c.parent_id, c.title, m.model_id,
      CASE WHEN c.id IN (62,67,69,65,153,72) THEN 'SubstanceBasedMembraneModel'
        WHEN c.id IN (154,155,66,68,70,63,64) THEN 'BiologyBasedMembraneModel'
	      ELSE NULL END structure_type,
      CASE c.parent_id
        WHEN 58 THEN 'GenericMembraneModel'
        WHEN 59 THEN 'IntestineMembraneModel'
        WHEN 60 THEN 'OralMembraneModel'
        WHEN 61 THEN 'SkinMembraneModel'
        WHEN 71 THEN 'BrainMembraneModel'
        WHEN 73 THEN 'EyeMembraneModel'
        WHEN 152 THEN 'CellMembraneModel'
        ELSE NULL END anatomical_type
      FROM categories AS c, model_has_categories AS m
      WHERE c.type = 1 AND m.category_id = c.id
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/membrane{model_id}" ;
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdf:type ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/vocabulary#{structure_type}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdf:type ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/vocabulary#{anatomical_type}" ]
  ] .

################################################
## method
################################################
<Interactions#TriplesMap7>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, name,
      NULLIF(abbreviation, name) AS abbrev,
      NULLIF(description, '') AS description
      FROM methods
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/method{id}" ;
    rr:class bao:BAO_0002753
  ];
    rr:predicateObjectMap [
    rr:predicate rdfs:label ;
    rr:objectMap [ rr:column "name" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdfs:label ;
    rr:objectMap [ rr:column "abbrev" ]
  ] .
  # removed temporarily due to unfinished description system
  #   rr:predicateObjectMap [
  #   rr:predicate dc:description ;
  #   rr:objectMap [ rr:column "description"; rr:datatype rdf:HTML ]
  # ] .

################################################
## method type
################################################
<Interactions#TriplesMap8>
  rr:logicalTable [ rr:sqlQuery """
    SELECT m.model_id, 
      (CASE c.parent_id
        WHEN 4 THEN 'BAO_0002202'
        WHEN 5 THEN 'BAO_0002094'
        WHEN 6 THEN 'BAO_0002301'
        ELSE NULL END) parent_type,
      (CASE c.id
          WHEN 5 THEN 'BAO_0002094'
        WHEN 8 THEN 'BAO_0002317'
        WHEN 9 THEN 'BAO_0002248'
        WHEN 10 THEN 'BAO_0002305'
        ELSE NULL END) child_type,
      (CASE c.id
        WHEN 7 THEN 'WaterMembranePartitioningMethod'
        WHEN 11 THEN 'AtomisticSimulation'
        WHEN 12 THEN 'UnitedAtomsSimulation'
        WHEN 13 THEN 'CoarseGrainedSimulation'
        WHEN 14 THEN 'HybridResolutionSimulation'
        WHEN 167 THEN 'MembranePositionMethod'
        WHEN 168 THEN 'MembranePermeabilityMethod'
        ELSE NULL END) child_type_voc
      FROM categories AS c, model_has_categories AS m 
      WHERE c.type = 2 AND m.category_id = c.id
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/method{model_id}" ;
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdf:type ;
    rr:objectMap [ rr:template "http://www.bioassayontology.org/bao#{parent_type}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdf:type ;
    rr:objectMap [ rr:template "http://www.bioassayontology.org/bao#{child_type}" ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate rdf:type ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/vocabulary#{child_type_voc}" ]
  ] .

################################################
## experimental conditions
################################################
<Interactions#TriplesMap9>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, temperature
      FROM interactions_passive WHERE temperature IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_temperature_int{id}" ;
    rr:class efo:EFO_0001702
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "temperature"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant obo:UO_0000027 ]
  ] .

<Interactions#TriplesMap10>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, temperature
      FROM fluorescent_properties WHERE temperature IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_temperature_fluo{id}" ;
    rr:class efo:EFO_0001702
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "temperature"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant obo:UO_0000027 ]
  ] .

#charges need to be standardized first - delete + symbols and whitespaces
<Interactions#TriplesMap11>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id,
          REPLACE(REPLACE(charge,'+',''),', ',',') standardized_charge
          FROM interactions_passive
          WHERE charge IS NOT NULL
      """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_mol_charge_int{id}" ;
    rr:class sio:CHEMINF_000120
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "standardized_charge" ]
  ] .

<Interactions#TriplesMap12>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id,
        REPLACE(REPLACE(charge,'+',''),', ',',') standardized_charge
        FROM fluorescent_properties 
        WHERE charge IS NOT NULL
    """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_mol_charge_fluo{id}" ;
    rr:class sio:CHEMINF_000120
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "standardized_charge" ]
  ] .

<Interactions#TriplesMap13>
  rr:logicalTable [ rr:sqlQuery "SELECT id, ph FROM interactions_passive WHERE ph IS NOT NULL" ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_pH_int{id}" ;
    rr:class sio:SIO_001089
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "ph"; rr:datatype xsd:float ]
  ] .

<Interactions#TriplesMap14>
  rr:logicalTable [ rr:sqlQuery "SELECT id, ph FROM fluorescent_properties WHERE ph IS NOT NULL" ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_pH_fluo{id}" ;
    rr:class sio:SIO_001089
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "ph"; rr:datatype xsd:float ]
  ] .

################################################
## interaction endpoints
################################################
# classical passive interaction endpoints
<Interactions#TriplesMap15>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, logk, logk_accuracy 
      FROM interactions_passive WHERE logk IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_LogK_int{id}" ;
    rr:class mmdbvoc:LogK
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "logk"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "logk_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_int{id}" ]
  ] .

<Interactions#TriplesMap16>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, logperm, logperm_accuracy 
      FROM interactions_passive WHERE logperm IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_LogPerm_int{id}" ;
    rr:class mmdbvoc:LogPerm
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "logperm"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant mmdbvoc:CmS ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "logperm_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_int{id}" ]
  ] .

<Interactions#TriplesMap17>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, x_min, x_min_accuracy 
      FROM interactions_passive WHERE x_min IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_position_int{id}" ;
    rr:class mmdbvoc:PositionOfMinima
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "x_min"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant obo:UO_0000018 ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "x_min_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_int{id}" ]
  ] .

<Interactions#TriplesMap18>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, gpen, gpen_accuracy 
      FROM interactions_passive WHERE gpen IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_penetration_int{id}" ;
    rr:class mmdbvoc:PenetrationBarrier
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "gpen"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant mmdbvoc:KcalMol ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "gpen_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_int{id}" ]
  ] .

<Interactions#TriplesMap19>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, gwat, gwat_accuracy 
      FROM interactions_passive WHERE gwat IS NOT NULL
    """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_water_int{id}" ;
    rr:class mmdbvoc:DepthOfMinima
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "gwat"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant mmdbvoc:KcalMol ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "gwat_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_int{id}" ]
  ] .

#fluorescent interaction endpoints
<Interactions#TriplesMap20>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, theta, theta_accuracy 
      FROM fluorescent_properties WHERE theta IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_theta_fluo{id}" ;
    rr:class mmdbvoc:ContactAngle
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "theta"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant obo:UO_0000185 ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "theta_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_fluo{id}" ]
  ] .

<Interactions#TriplesMap21>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, abs_wl, abs_wl_accuracy
      FROM fluorescent_properties WHERE abs_wl IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_abs_wl_fluo{id}" ;
    rr:class mmdbvoc:AbsorptionWavelength
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "abs_wl"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant obo:UO_0000018 ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "abs_wl_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_fluo{id}" ]
  ] .

<Interactions#TriplesMap22>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, fluo_wl, fluo_wl_accuracy
      FROM fluorescent_properties WHERE fluo_wl IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_fluo_wl_fluo{id}" ;
    rr:class mmdbvoc:FluorescenceWavelength
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "fluo_wl"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant obo:UO_0000018 ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "fluo_wl_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_fluo{id}" ]
  ] .

<Interactions#TriplesMap23>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, qy, qy_accuracy
      FROM fluorescent_properties WHERE qy IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_qy_fluo{id}" ;
    rr:class mmdbvoc:QuantumYield
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "qy"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "qy_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_fluo{id}" ]
  ] .

<Interactions#TriplesMap24>
  rr:logicalTable [ rr:sqlQuery """
    SELECT id, lt, lt_accuracy
      FROM fluorescent_properties WHERE lt IS NOT NULL
  """ ] ;
  rr:subjectMap [
    rr:template "https://rdf.molmedb.upol.cz/interaction/endpoint_lt_fluo{id}" ;
    rr:class mmdbvoc:FluorescenceLifetime
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000300 ;
    rr:objectMap [ rr:column "lt"; rr:datatype xsd:float ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate sio:SIO_000221 ;
    rr:objectMap [ rr:constant obo:UO_0000150 ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate mmdbvoc:hasStDev ;
    rr:objectMap [rr:column "lt_accuracy"; rr:datatype xsd:float  ]
  ] ;
    rr:predicateObjectMap [
    rr:predicate bao:BAO_0000559 ;
    rr:objectMap [ rr:template "https://rdf.molmedb.upol.cz/interaction/measure_group_fluo{id}" ]
  ] .